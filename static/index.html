<html>
<head>
  <title>Boolean-width explorer</title>
  <link href="index.css" rel="stylesheet" type="text/css"/>
	<script src="jscache/jquery.js"></script>
	<script src="jscache/jquery.total-storage.js"></script>
	<script src="jscache/cycle.js"></script>
	<script src="jscache/d3.js"></script>
	<script src="jscache/bitset.js"></script>
	<script src="coffee/set.js"></script>
  <script src="coffee/graph.js"></script>
</head>
<body>
	
<div>
<div id="menu">
    <select id="interaction_mode">
      <option value="edit">Edit</option>
      <option value="move">Move</option>
    </select>
    <ul class="tabs">
        <li><a href="#graphvis">Graph</a></li>
        <li><a href="#clustervis">Decomposition</a></li>
        <li><a href="#graphtext">Graph Text</a></li>
        <li><a href="#treetext">Decomposition Text</a></li>
    </ul>
</div>
<div id="split">
    <div class="pane">
        <div class="chart" id="graphvis"></div>
        <div class="chart" id="clustervis"></div>
        <div class="chart" id="debug"></div>
        <div class="chart" id="graphtext"><textarea disabled></textarea></div>
        <div class="chart" id="treetext"><textarea disabled></textarea></div>
    </div>
    <div class="chart" id="treevis"></div>
</div>
</div>
<script src="coffee/force_view.js"></script>
<script src="coffee/pack_view.js"></script>
<script src="coffee/cluster_view.js"></script>
<script>
    $ = jQuery;
    $(document).ready(function() {
        // tabs
        $("ul.tabs a").click(function() {
            $(".pane div").hide();
            $($(this).attr("href")).show();
        });
        $("ul.tabs a")[3].click();

        function updateGraphText(graph)
        { 
            var fg = formatGraph(graph); 
            $("#graphtext textarea").val(fg);
        };
        function updateTreeText(graph)
        { 
            var fg = formatTree(graph); 
            $("#treetext textarea").val(fg);
        }

        var graphvis = new force_view("#graphvis");
        updateGraphText(graphvis.graph);
        var packvis = new pack_view("#treevis", graphvis);
        updateTreeText(packvis.state.root);
        graphvis.redraw_callbacks.push(function() { packvis.redraw_pack(); });
        graphvis.redraw_callbacks.push(function() { updateGraphText(graphvis.graph); });
        packvis.markNodes = graphvis.markNodes;
        var clusterobj = new cluster_view("#clustervis", packvis);
    });
</script>

</body>

</html>
